(this["webpackJsonpauth-chat"]=this["webpackJsonpauth-chat"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},37:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(19),a=n.n(s),i=(n(37),n(15)),o=n.n(i),u=n(21),j=n(13),l=(n(28),n(12)),b=n(31),O=(n(43),b.a.initializeApp({apiKey:"AIzaSyBthhlJ-GJ1g9BvbLSGY7Cou5UfcV0JJ5o",authDomain:"auth-react-5ab7b.firebaseapp.com",projectId:"auth-react-5ab7b",storageBucket:"auth-react-5ab7b.appspot.com",messagingSenderId:"68794727592",appId:"1:68794727592:web:4058cff908fee896af569d"})),h=O.auth(),d=n(1),p=Object(c.createContext)();function m(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(!0),i=Object(j.a)(a,2),o=i[0],u=i[1];Object(c.useEffect)((function(){return h.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var l={currentUser:r,login:function(e,t){return h.signInWithEmailAndPassword(e,t)},signup:function(e,t){return h.createUserWithEmailAndPassword(e,t)},logout:function(){return h.signOut()}};return Object(d.jsx)(p.Provider,{value:l,children:!o&&e.children})}var x=n(4);function f(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).signup,i=Object(l.c)((function(e){return e})),b=Object(l.b)(),O=function(){b({type:"CLOSEMODAL"})};function h(){return(h=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m.current[1].value===m.current[2].value){e.next=4;break}return r("Les mots de passe ne sont pas indentiques"),e.abrupt("return");case 4:return e.next=6,a(m.current[0].value,m.current[1].value);case 6:O(),s.push("/loggedHome");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(d.jsxs)("div",{className:i.showSignUp?"global-modal":"hide-modal",children:[Object(d.jsx)("div",{className:"overlay",onClick:O}),Object(d.jsxs)("div",{className:"container-modal",children:[Object(d.jsxs)("form",{className:"form-auth",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(d.jsx)("h2",{children:"INSCRIPTION "}),Object(d.jsx)("label",{htmlFor:"mail",children:"Votre mail"}),Object(d.jsx)("input",{type:"email",ref:f,htmlFor:"mail"}),Object(d.jsx)("label",{htmlFor:"psw",children:"Votre mot de passe"}),Object(d.jsx)("input",{type:"password",ref:f,id:"psw",required:!0}),Object(d.jsx)("label",{htmlFor:"confirmpsw",children:"Confirmez le mot de passe"}),Object(d.jsx)("input",{type:"password",ref:f,id:"confirmpsw",required:!0}),Object(d.jsx)("div",{className:"erreur",children:n}),Object(d.jsx)("button",{className:"btn-sign",children:"S'inscrire"})]}),Object(d.jsx)("button",{className:"btn-close",onClick:O,children:"X"}),Object(d.jsx)("p",{className:"bottom-help-txt",onClick:function(){b({type:"TOGGLEIN"})},children:"Besoin de se connecter ?"})]})]})}function v(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(x.g)(),a=Object(c.useContext)(p).login,i=Object(l.c)((function(e){return e}));function b(){return(b=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a(m.current[0].value,m.current[1].value);case 4:s.push("/loggedHome"),h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r("Email ou mot de passe incorrect.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var O=Object(l.b)(),h=function(){O({type:"CLOSEMODAL"})},m=Object(c.useRef)([]),f=function(e){e&&!m.current.includes(e)&&m.current.push(e)};return Object(d.jsxs)("div",{className:i.showSignIn?"global-modal":"hide-modal",children:[Object(d.jsx)("div",{className:"overlay",onClick:h}),Object(d.jsxs)("div",{className:"container-modal",children:[Object(d.jsxs)("form",{className:"form-auth",onSubmit:function(e){return b.apply(this,arguments)},children:[Object(d.jsx)("h2",{children:"CONNEXION"}),Object(d.jsx)("label",{htmlFor:"mail",children:"Votre mail"}),Object(d.jsx)("input",{type:"email",htmlFor:"mail",ref:f,required:!0}),Object(d.jsx)("label",{htmlFor:"psw",children:"Votre mot de passe"}),Object(d.jsx)("input",{type:"password",id:"psw",ref:f,required:!0}),Object(d.jsx)("div",{className:"erreur",children:n}),Object(d.jsx)("button",{className:"btn-sign",children:"Se connecter"})]}),Object(d.jsx)("button",{className:"btn-close",onClick:h,children:"X"}),Object(d.jsx)("p",{className:"bottom-help-txt",onClick:function(){O({type:"TOGGLEUP"})},children:"Besoin de cr\xe9er un compte ?"})]})]})}n(47);function g(){var e=Object(l.b)();return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("button",{onClick:function(){e({type:"TOGGLEIN"})},children:"Connexion"}),Object(d.jsx)("button",{onClick:function(){e({type:"TOGGLEUP"})},children:"Inscription"})]})}n(29);function w(){return Object(d.jsxs)("div",{className:"global-container",children:[Object(d.jsx)(g,{}),Object(d.jsxs)("div",{className:"content-container",children:[Object(d.jsx)("h1",{children:"Bienvenue sur le site."}),Object(d.jsx)("p",{children:"Authentifiez-vous pour acc\xe9der aux fonctionnalit\xe9s."})]}),Object(d.jsx)(f,{}),Object(d.jsx)(v,{})]})}var S=n(16);function N(){var e=Object(c.useContext)(p).logout;return Object(d.jsxs)("div",{className:"global-container",children:[Object(d.jsx)(g,{}),Object(d.jsx)(f,{}),Object(d.jsx)(v,{}),Object(d.jsxs)("div",{className:"content-container",children:[Object(d.jsx)("h1",{children:"Voici votre compte priv\xe9."}),Object(d.jsx)("p",{children:"Amusez-vous bien ! "}),Object(d.jsx)("button",{onClick:e,children:"Se d\xe9connecter"})]})]})}var C=n(7),I=n(32);function y(e){var t=e.component,n=Object(I.a)(e,["component"]),r=Object(c.useContext)(p).currentUser;return Object(d.jsx)(x.b,Object(C.a)(Object(C.a)({},n),{},{render:function(){return r?Object(d.jsx)(t,{}):Object(d.jsx)(x.a,{to:"/"})}}))}var k=function(){return Object(d.jsx)(m,{children:Object(d.jsx)(S.a,{children:Object(d.jsxs)(x.d,{children:[Object(d.jsx)(x.b,{exact:!0,path:"/",component:w}),Object(d.jsx)(y,{exact:!0,path:"/loggedHome",component:N})]})})})},E=n(22),U={showSignIn:!1,showSignUp:!1};var G=Object(E.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLEIN":return e.showSignIn?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!0,showSignUp:!1});case"TOGGLEUP":return e.showSignUp?Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1}):Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!0});case"CLOSEMODAL":return Object(C.a)(Object(C.a)({},e),{},{showSignIn:!1,showSignUp:!1});default:return e}}));a.a.render(Object(d.jsxs)(l.a,{store:G,children:[Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(k,{})}),","]}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.11a3dbd7.chunk.js.map