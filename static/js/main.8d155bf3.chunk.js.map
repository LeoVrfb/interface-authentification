{"version":3,"sources":["firebase.js","context/AuthContext.js","Components/AuthForm/SignUp.js","Components/AuthForm/SignIn.js","Components/Navbar/Navbar.js","Pages/Home/Home.js","Pages/PrivateHome/PrivateHome.js","Components/PrivateRoute.js","App.js","Reducers/modalsReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","createContext","AuthProvider","props","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","Provider","children","SignUp","error","setError","history","useHistory","useContext","showModal","useSelector","state","dispatch","useDispatch","closeModal","type","e","a","preventDefault","inputs","current","push","useRef","addInputs","el","includes","className","showSignUp","onClick","onSubmit","htmlFor","ref","id","required","SignIn","showSignIn","Navbar","Home","PrivateHome","PrivateRoute","Component","component","rest","render","to","App","exact","path","initialState","store","createStore","action","ReactDOM","StrictMode","document","getElementById"],"mappings":"8SAIMA,G,MAAMC,IAASC,cAAc,CACjCC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,cACnBC,MAAO,8CAGIC,EAAOT,EAAIS,O,OCTXC,EAAcC,0BAEpB,SAASC,EAAaC,GAAQ,IAAD,EAEMC,qBAFN,mBAEzBC,EAFyB,KAEZC,EAFY,OAGFF,oBAAS,GAHP,mBAGzBG,EAHyB,KAGhBC,EAHgB,KAiBhCC,qBAAU,WAON,OALoBV,EAAKW,oBAAmB,SAAAC,GACxCL,EAAeK,GACfH,GAAW,QAIhB,IAGH,IAAMI,EAAQ,CACVP,cACAQ,MArBJ,SAAeC,EAAOC,GAClB,OAAOhB,EAAKiB,2BAA2BF,EAAOC,IAqB9CE,OA1BJ,SAAgBH,EAAOC,GACnB,OAAOhB,EAAKmB,+BAA+BJ,EAAOC,IA0BlDI,OAnBJ,WACI,OAAOpB,EAAKqB,YAqBhB,OACI,cAACpB,EAAYqB,SAAb,CAAsBT,MAAOA,EAA7B,UACKL,GAAWJ,EAAMmB,W,WCpCf,SAASC,IAAU,IAAD,EAELnB,mBAAS,IAFJ,mBAExBoB,EAFwB,KAEjBC,EAFiB,KAGzBC,EAAUC,cACTV,EAAUW,qBAAW5B,GAArBiB,OAEDY,EAAYC,aAAY,SAAAC,GAAK,OAAIA,KACjCC,EAAWC,cAEXC,EAAa,WACfF,EAAS,CACPG,KAAM,gBAXmB,4CAqB/B,WAA4BC,GAA5B,SAAAC,EAAA,yDACID,EAAEE,iBACCC,EAAOC,QAAQ,GAAG5B,QAAU2B,EAAOC,QAAQ,GAAG5B,MAFrD,uBAGMa,EAAS,6CAHf,0CAOUR,EAAOsB,EAAOC,QAAQ,GAAG5B,MAAO2B,EAAOC,QAAQ,GAAG5B,OAP5D,OAQIsB,IACAR,EAAQe,KAAK,eATjB,4CArB+B,sBAiC/B,IAAMF,EAASG,iBAAO,IAGhBC,EAAY,SAAAC,GACbA,IAAOL,EAAOC,QAAQK,SAASD,IAChCL,EAAOC,QAAQC,KAAKG,IAKtB,OAEE,sBAAKE,UAAWjB,EAAUkB,WAAa,eAAiB,aAAxD,UACA,qBAAKD,UAAU,UAAUE,QAASd,IAElC,sBAAKY,UAAU,kBAAf,UACE,uBAAMA,UAAU,YACVG,SAlDmB,4CAiDzB,UAEE,6CACA,uBAAOC,QAAQ,OAAf,wBACA,uBAAOf,KAAK,QAAQgB,IAAKR,EAAWO,QAAQ,SAE5C,uBAAOA,QAAQ,MAAf,gCACA,uBAAOf,KAAK,WAAWgB,IAAKR,EAAWS,GAAG,MAAMC,UAAQ,IAExD,uBAAOH,QAAQ,aAAf,uCACA,uBAAOf,KAAK,WAAWgB,IAAKR,EAAWS,GAAG,aAAaC,UAAQ,IAC/D,qBAAKP,UAAU,SAAf,SAAyBtB,IAGzB,wBAAQsB,UAAU,WAAlB,2BAEF,wBAAQA,UAAU,YAAYE,QAASd,EAAvC,eACA,mBAAGY,UAAU,kBACVE,QApDY,WACnBhB,EAAS,CACLG,KAAM,cAiDN,4CCnEO,SAASmB,IAAU,IAAD,EAEHlD,mBAAS,IAFN,mBAEtBoB,EAFsB,KAEfC,EAFe,KAGvBC,EAAUC,cACTd,EAASe,qBAAW5B,GAApBa,MAEDgB,EAAYC,aAAY,SAAAC,GAAK,OAAIA,KANV,4CAQ7B,WAA4BK,GAA5B,SAAAC,EAAA,6DACED,EAAEE,iBADJ,kBAIUzB,EAAM0B,EAAOC,QAAQ,GAAG5B,MAAO2B,EAAOC,QAAQ,GAAG5B,OAJ3D,OAKIc,EAAQe,KAAK,eACbP,IANJ,gDAQIT,EAAS,oCARb,0DAR6B,sBAoB7B,IAAMO,EAAWC,cAEXC,EAAa,WACfF,EAAS,CACPG,KAAM,gBAUNI,EAASG,iBAAO,IAEhBC,EAAY,SAAAC,GACbA,IAAOL,EAAOC,QAAQK,SAASD,IAChCL,EAAOC,QAAQC,KAAKG,IAI1B,OACE,sBAAKE,UAAWjB,EAAU0B,WAAa,eAAiB,aAAxD,UACE,qBAAKT,UAAU,UACVE,QAASd,IAEd,sBAAKY,UAAU,kBAAf,UACE,uBAAMA,UAAU,YACVG,SAjDmB,4CAgDzB,UAEE,2CACA,uBAAOC,QAAQ,OAAf,wBACA,uBAAOf,KAAK,QAAQe,QAAQ,OAAOC,IAAKR,EAAWU,UAAQ,IAE3D,uBAAOH,QAAQ,MAAf,gCACA,uBAAOf,KAAK,WAAWiB,GAAG,MAAMD,IAAKR,EAAWU,UAAQ,IACxD,qBAAKP,UAAU,SAAf,SAAyBtB,IAEzB,wBAAQsB,UAAU,WAAlB,6BAEF,wBAAQA,UAAU,YACVE,QAASd,EADjB,eAEA,mBAAGY,UAAU,kBACXE,QAnCe,WACnBhB,EAAS,CACLG,KAAM,cAgCR,kD,MChEO,SAASqB,IAEpB,IAAMxB,EAAWC,cAgBjB,OACI,sBAAKa,UAAU,SAAf,UACC,wBAAQE,QAhBQ,WACjBhB,EAAS,CACLG,KAAM,cAcT,uBACA,wBAAQa,QAXQ,WACjBhB,EAAS,CACLG,KAAM,cAST,4B,MCnBM,SAASsB,IACtB,OACE,sBAAKX,UAAU,mBAAf,UACE,cAAC,EAAD,IACA,sBAAKA,UAAU,oBAAf,UACE,wDACA,6FAEF,cAACvB,EAAD,IACA,cAAC+B,EAAD,O,YCRS,SAASI,IAAe,IAE5BvC,EAAUS,qBAAW5B,GAArBmB,OAEP,OACI,sBAAK2B,UAAU,mBAAf,UACI,cAAC,EAAD,IACA,cAACvB,EAAD,IACA,cAAC+B,EAAD,IACA,sBAAKR,UAAU,oBAAf,UACI,8DACA,oDACA,wBAAQE,QAAS7B,EAAjB,qC,mBCfD,SAASwC,EAAT,GAAyD,IAAtBC,EAAqB,EAAjCC,UAA0BC,EAAO,6BAE5DzD,EAAeuB,qBAAW5B,GAA1BK,YAEP,OACI,cAAC,IAAD,2BACIyD,GADJ,IAEAC,OAAQ,WACJ,OAAO1D,EAAc,cAACuD,EAAD,IAAgB,cAAC,IAAD,CAAUI,GAAG,UCU/CC,MAff,WACE,OAEE,cAAC/D,EAAD,UACE,cAAC,IAAD,UAEI,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgE,OAAK,EAACC,KAAK,IAAIN,UAAWJ,IACjC,cAACE,EAAD,CAAcO,OAAK,EAACC,KAAK,cAAcN,UAAWH,Y,QCfxDU,EAAe,CACnBb,YAAY,EACZR,YAAY,GCMd,IAAMsB,EAAQC,aDHC,WAAsD,IAA/BvC,EAA8B,uDAAtBqC,EAAcG,EAAQ,uCAClE,OAAQA,EAAOpC,MACb,IAAK,WACH,OAAIJ,EAAMwB,WACD,2BACFxB,GADL,IAEEwB,YAAY,EACZR,YAAY,IAGP,2BACFhB,GADL,IAEEwB,YAAY,EACZR,YAAY,IAGlB,IAAK,WACH,OAAIhB,EAAMgB,WACD,2BACFhB,GADL,IAEEwB,YAAY,EACZR,YAAY,IAGP,2BACFhB,GADL,IAEEwB,YAAY,EACZR,YAAY,IAGlB,IAAK,aACH,OAAO,2BACFhB,GADL,IAEEwB,YAAY,EACZR,YAAY,IAEhB,QACE,OAAOhB,MChCbyC,IAAST,OACP,eAAC,IAAD,CAAUM,MAAOA,EAAjB,UAEE,cAAC,IAAMI,WAAP,UACE,cAAC,EAAD,MAHJ,OAQAC,SAASC,eAAe,W","file":"static/js/main.8d155bf3.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\n\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBthhlJ-GJ1g9BvbLSGY7Cou5UfcV0JJ5o\",\r\n  authDomain: \"auth-react-5ab7b.firebaseapp.com\",\r\n  projectId: \"auth-react-5ab7b\",\r\n  storageBucket: \"auth-react-5ab7b.appspot.com\",\r\n  messagingSenderId: \"68794727592\",\r\n  appId: \"1:68794727592:web:4058cff908fee896af569d\"\r\n})\r\n\r\nexport const auth = app.auth();\r\nexport default app;","import React, {createContext, useState, useEffect} from 'react'\r\nimport {auth} from '../firebase'\r\n\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport function AuthProvider(props) {\r\n\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function signup(email, password){\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function login(email, password){\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function logout(){\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n    \r\n\r\n    const value = {\r\n        currentUser,\r\n        login,\r\n        signup,\r\n        logout\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n           {!loading && props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React, {useRef, useState, useContext} from 'react'\r\nimport \"./AuthForm.css\";\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\nexport default function SignUp() {\r\n\r\n  const [error, setError] = useState('');\r\n  const history = useHistory();\r\n  const {signup} = useContext(AuthContext)\r\n\r\n  const showModal = useSelector(state => state)\r\n  const dispatch = useDispatch();\r\n\r\n  const closeModal = () => {\r\n      dispatch({\r\n        type: \"CLOSEMODAL\"\r\n      })\r\n  }\r\n\r\n  const toggleSignIn = () => {\r\n    dispatch({\r\n        type: \"TOGGLEIN\"\r\n    })\r\n}\r\n\r\n  async function handleSubmit(e) {\r\n      e.preventDefault();\r\n      if(inputs.current[1].value !== inputs.current[2].value){\r\n        setError(\"Les mots de passe ne sont pas indentiques\")\r\n        return;\r\n      }\r\n\r\n      await signup(inputs.current[0].value, inputs.current[1].value);\r\n      closeModal()\r\n      history.push('/loggedHome');\r\n  }\r\n\r\n  const inputs = useRef([])\r\n\r\n  \r\n  const addInputs = el => {\r\n    if(el && !inputs.current.includes(el)){\r\n      inputs.current.push(el)\r\n    }\r\n  }\r\n\r\n\r\n    return (\r\n\r\n      <div className={showModal.showSignUp ? \"global-modal\" : \"hide-modal\"}>\r\n      <div className=\"overlay\" onClick={closeModal}></div>\r\n\r\n      <div className=\"container-modal\">\r\n        <form className=\"form-auth\"\r\n              onSubmit={handleSubmit}>\r\n          <h2>INSCRIPTION</h2>\r\n          <label htmlFor=\"mail\">Votre mail</label>\r\n          <input type=\"email\" ref={addInputs} htmlFor=\"mail\" />\r\n\r\n          <label htmlFor=\"psw\">Votre mot de passe</label>\r\n          <input type=\"password\" ref={addInputs} id=\"psw\" required />\r\n\r\n          <label htmlFor=\"confirmpsw\">Confirmez le mot de passe</label>\r\n          <input type=\"password\" ref={addInputs} id=\"confirmpsw\" required/>\r\n          <div className='erreur'>{error}</div>\r\n          \r\n\r\n          <button className=\"btn-sign\">S'inscrire</button>\r\n        </form>\r\n        <button className=\"btn-close\" onClick={closeModal}>X</button>\r\n        <p className=\"bottom-help-txt\"\r\n           onClick={toggleSignIn}>Besoin de se connecter ?\r\n           </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useRef, useState, useContext } from \"react\";\r\nimport \"./AuthForm.css\";\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {AuthContext} from '../../context/AuthContext'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nexport default function SignIn() {\r\n\r\n    const [error, setError] = useState('');\r\n    const history = useHistory()\r\n    const {login} = useContext(AuthContext)\r\n\r\n    const showModal = useSelector(state => state)\r\n\r\n    async function handleSubmit(e) {\r\n      e.preventDefault();\r\n\r\n      try {\r\n        await login(inputs.current[0].value, inputs.current[1].value);\r\n        history.push('/loggedHome')\r\n        closeModal()\r\n      } catch {\r\n        setError('Email ou mot de passe incorrect.')\r\n      }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch({\r\n          type: \"CLOSEMODAL\"\r\n        })\r\n    }\r\n\r\n    const toggleSignUp = () => {\r\n      dispatch({\r\n          type: \"TOGGLEUP\"\r\n      })\r\n  }\r\n\r\n    const inputs = useRef([])\r\n\r\n    const addInputs = el => {\r\n      if(el && !inputs.current.includes(el)){\r\n        inputs.current.push(el)\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div className={showModal.showSignIn ? \"global-modal\" : \"hide-modal\"}>\r\n      <div className=\"overlay\"\r\n           onClick={closeModal}></div>\r\n\r\n      <div className=\"container-modal\">\r\n        <form className=\"form-auth\"\r\n              onSubmit={handleSubmit}>\r\n          <h2>CONNEXION</h2>\r\n          <label htmlFor=\"mail\">Votre mail</label>\r\n          <input type=\"email\" htmlFor=\"mail\" ref={addInputs} required />\r\n\r\n          <label htmlFor=\"psw\">Votre mot de passe</label>\r\n          <input type=\"password\" id=\"psw\" ref={addInputs} required/>\r\n          <div className='erreur'>{error}</div>\r\n\r\n          <button className=\"btn-sign\">Se connecter</button>\r\n        </form>\r\n        <button className=\"btn-close\"\r\n                onClick={closeModal}>X</button>\r\n        <p className=\"bottom-help-txt\"\r\n          onClick={toggleSignUp}>Besoin de créer un compte ?</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport './Navbar.css'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nexport default function Navbar() {\r\n\r\n    const dispatch = useDispatch ()\r\n\r\n    const toggleSignIn = () => {\r\n        dispatch({\r\n            type: \"TOGGLEIN\"\r\n        })\r\n    }\r\n\r\n    const toggleSignUp = () => {\r\n        dispatch({\r\n            type: \"TOGGLEUP\"\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n         <button onClick={toggleSignIn}>Connexion</button>\r\n         <button onClick={toggleSignUp}>Inscription</button>\r\n            \r\n        </nav>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport SignUp from \"../../Components/AuthForm/SignUp\";\r\nimport SignIn from \"../../Components/AuthForm/SignIn\";\r\nimport Navbar from \"../../Components/Navbar/Navbar\";\r\nimport \"./Home.css\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div className='global-container'>\r\n      <Navbar />\r\n      <div className=\"content-container\">\r\n        <h1>Bienvenue sur le site.</h1>\r\n        <p>Authentifiez-vous pour accéder aux fonctionnalités.</p>\r\n      </div>\r\n      <SignUp />\r\n      <SignIn />\r\n    </div>\r\n  );\r\n}\r\n","import React, {useContext} from 'react'\r\nimport SignIn from '../../Components/AuthForm/SignIn'\r\nimport SignUp from '../../Components/AuthForm/SignUp'\r\nimport Navbar from '../../Components/Navbar/Navbar'\r\nimport \"../Home/Home.css\"\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nexport default function PrivateHome() {\r\n\r\n    const {logout} = useContext(AuthContext)\r\n\r\n    return (\r\n        <div className='global-container'>\r\n            <Navbar/>\r\n            <SignUp/>\r\n            <SignIn/>\r\n            <div className=\"content-container\">\r\n                <h1>Voici votre compte privé.</h1>\r\n                <p>Amusez-vous bien ! </p>\r\n                <button onClick={logout}>Se déconnecter</button>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext} from 'react'\r\nimport {Route, Redirect} from 'react-router-dom'\r\nimport {AuthContext} from '../context/AuthContext'\r\n\r\nexport default function PrivateRoute({component : Component, ...rest}) {\r\n\r\n    const {currentUser} = useContext(AuthContext)\r\n\r\n    return (\r\n        <Route\r\n        {...rest}\r\n        render={() => {\r\n            return currentUser ? <Component /> : <Redirect to=\"/\" />\r\n        }}\r\n        >\r\n\r\n        </Route>\r\n    )\r\n}\r\n","import Home from './Pages/Home/Home';\nimport {AuthProvider} from './context/AuthContext'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport PrivateHome from './Pages/PrivateHome/PrivateHome'\nimport PrivateRoute from './Components/PrivateRoute';\n\n\nfunction App() {\n  return (\n\n    <AuthProvider>\n      <Router>\n         \n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute exact path=\"/loggedHome\" component={PrivateHome} />\n          </Switch>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n  showSignIn: false,\r\n  showSignUp: false,\r\n};\r\n\r\nexport default function modalsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"TOGGLEIN\":\r\n      if (state.showSignIn) {\r\n        return {\r\n          ...state,\r\n          showSignIn: false,\r\n          showSignUp: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          showSignIn: true,\r\n          showSignUp: false,\r\n        };\r\n      }\r\n    case \"TOGGLEUP\":\r\n      if (state.showSignUp) {\r\n        return {\r\n          ...state,\r\n          showSignIn: false,\r\n          showSignUp: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          showSignIn: false,\r\n          showSignUp: true,\r\n        };\r\n      }\r\n    case \"CLOSEMODAL\":\r\n      return {\r\n        ...state,\r\n        showSignIn: false,\r\n        showSignUp: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\nimport modalsReducer from './Reducers/modalsReducer'\n\nconst store = createStore(modalsReducer)\n\nReactDOM.render(\n  <Provider store={store}>\n\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n\n    </Provider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}